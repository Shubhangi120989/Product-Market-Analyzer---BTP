2025-12-06 12:15:40,446 - INFO - Initializing RAG Evaluator...
2025-12-06 12:15:40,456 - INFO - Found credentials in environment variables.
2025-12-06 12:15:41,818 - INFO - RAG Evaluator initialized successfully
2025-12-06 12:15:41,819 - INFO - ================================================================================
2025-12-06 12:15:41,819 - INFO - Starting RAG Pipeline Evaluation
2025-12-06 12:15:41,819 - INFO - ================================================================================
2025-12-06 12:15:41,820 - INFO - Read 100 rows from C:\complete web development\Product-Market-Analyzer - BTP\test\Rag Pipeline Analysis Data - Sheet1_with_product_ids.csv
2025-12-06 12:15:41,822 - INFO - 
================================================================================
2025-12-06 12:15:41,823 - INFO - Processing test case 1/100
2025-12-06 12:15:41,823 - INFO - ================================================================================
2025-12-06 12:15:41,823 - INFO - Product ID: 69332bdf5e415a34a70d0855
2025-12-06 12:15:41,823 - INFO - Question: What performance issues do users commonly report with the S24 Ultra?
2025-12-06 12:15:41,823 - INFO - Ground Truth: Users commonly report minor heating during long gaming or camera use but no major throttling issues....
2025-12-06 12:15:41,824 - INFO - Calling API...
2025-12-06 12:16:11,186 - INFO - Evaluating metrics...
2025-12-06 12:16:11,186 - INFO - Calculating Context Precision (with pipeline)...
2025-12-06 12:16:11,194 - ERROR - Metric calculation failed: 'NoneType' object has no attribute 'chat'
2025-12-06 12:16:11,195 - ERROR - Test case 1 failed: 'NoneType' object has no attribute 'chat'
Traceback (most recent call last):
  File "C:\complete web development\Product-Market-Analyzer - BTP\test\rag_evaluation.py", line 261, in run_evaluation
    metrics = self.evaluate_metrics(
              ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\complete web development\Product-Market-Analyzer - BTP\test\rag_evaluation.py", line 122, in evaluate_metrics
    metrics['context_precision_with_pipeline'] = self.context_precision.single_turn_score(with_pipeline_sample)
                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\complete web development\Product-Market-Analyzer - BTP\test\.venv\Lib\site-packages\ragas\metrics\base.py", line 447, in single_turn_score
    score = run(_async_wrapper)
            ^^^^^^^^^^^^^^^^^^^
  File "C:\complete web development\Product-Market-Analyzer - BTP\test\.venv\Lib\site-packages\ragas\async_utils.py", line 156, in run
    return asyncio.run(coro)
           ^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\asyncio\base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "C:\complete web development\Product-Market-Analyzer - BTP\test\.venv\Lib\site-packages\ragas\metrics\base.py", line 440, in _async_wrapper
    raise e
  File "C:\complete web development\Product-Market-Analyzer - BTP\test\.venv\Lib\site-packages\ragas\metrics\base.py", line 434, in _async_wrapper
    result = await self._single_turn_ascore(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\complete web development\Product-Market-Analyzer - BTP\test\.venv\Lib\site-packages\ragas\metrics\_context_precision.py", line 317, in _single_turn_ascore
    return await super()._single_turn_ascore(sample, callbacks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\complete web development\Product-Market-Analyzer - BTP\test\.venv\Lib\site-packages\ragas\metrics\_context_precision.py", line 137, in _single_turn_ascore
    return await self._ascore(row, callbacks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\complete web development\Product-Market-Analyzer - BTP\test\.venv\Lib\site-packages\ragas\metrics\_context_precision.py", line 151, in _ascore
    ] = await self.context_precision_prompt.generate_multiple(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\complete web development\Product-Market-Analyzer - BTP\test\.venv\Lib\site-packages\ragas\prompt\pydantic_prompt.py", line 265, in generate_multiple
    result = llm.generate(
             ^^^^^^^^^^^^^
  File "C:\complete web development\Product-Market-Analyzer - BTP\test\.venv\Lib\site-packages\ragas\llms\base.py", line 955, in generate
    result = self.client.chat.completions.create(
             ^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'chat'
2025-12-06 12:16:11,210 - INFO - Results written to C:\complete web development\Product-Market-Analyzer - BTP\test\rag_evaluation_results.csv
2025-12-06 12:16:11,211 - INFO - 
================================================================================
2025-12-06 12:16:11,211 - INFO - Processing test case 2/100
2025-12-06 12:16:11,211 - INFO - ================================================================================
2025-12-06 12:16:11,211 - INFO - Product ID: 69332bdf5e415a34a70d0855
2025-12-06 12:16:11,212 - INFO - Question: How is the battery life compared to previous Samsung flagships?
2025-12-06 12:16:11,212 - INFO - Ground Truth: Battery life is generally better than previous Samsung models, lasting a full day with mixed use....
2025-12-06 12:16:11,212 - INFO - Calling API...
